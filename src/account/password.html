<template>
  <div>
      <div class="row">
          <div class="col-md-8 col-md-offset-2">
              <h2 translate="password.title" translate-values="{username: '${account.login}'}">Password for [<b>${account.login}</b>]</h2>

              <div class="alert alert-success" show.bind="success" translate="password.messages.success">
                  <strong>Password changed!</strong>
              </div>
              <div class="alert alert-danger" show.bind="error"  translate="password.messages.error">
                  <strong>An error has occurred!</strong> The password could not be changed.
              </div>

              <div class="alert alert-danger" show.bind="doNotMatch" translate="global.messages.error.dontmatch">
                  The password and its confirmation do not match!
              </div>

              <form name="form" role="form" novalidate submit.trigger="changePassword()" show-validation>

                  <div class="form-group">
                      <label class="control-label" for="password" translate="newpassword">New password</label>
                      <input type="password" class="form-control" id="password" name="password" placeholder.bind="newpassword.placeholder"
                             model="password" minlength=4 maxlength=50 required>
                      <div show.bind="password.dirtyInvalid">
                          <p class="help-block"
                             show.bind="password.error.required" translate="global.messages.validate.newpassword.required">
                              Your password is required.
                          </p>
                          <p class="help-block"
                             show.bind="password.$error.minlength" translate="messages.validate.newpassword.minlength">
                              Your password is required to be at least 4 characters.
                          </p>
                          <p class="help-block"
                             show.bind="password.$error.maxlength" translate="messages.validate.newpassword.maxlength">
                              Your password cannot be longer than 50 characters.
                          </p>
                      </div>
                      <password-strength-bar password-to-check="password"></password-strength-bar>
                  </div>
                  <div class="form-group">
                      <label class="control-label" for="confirmPassword" translate="confirmpassword">New password confirmation</label>
                      <input type="password" class="form-control" id="confirmPassword" name="confirmPassword" placeholder.bind="confirmpassword.placeholder"
 minlength=4 maxlength=50 required>
                      <div show.bind="confirmPassword.dirtyInvalid">
                          <p class="help-block"
                             show.bind="confirmPassword.error.required" translate="messages.validate.confirmpassword.required">
                              Your confirmation password is required.
                          </p>
                          <p class="help-block"
                             show.bind="form.confirmPassword.$error.minlength" translate="messages.validate.confirmpassword.minlength">
                              Your confirmation password is required to be at least 4 characters.
                          </p>
                          <p class="help-block"
                             show.bind="form.confirmPassword.$error.maxlength" translate="global.messages.validate.confirmpassword.maxlength">
                              Your confirmation password cannot be longer than 50 characters.
                          </p>
                      </div>
                  </div>

                  <button type="submit" disabled.bind="invalid" class="btn btn-primary" translate="password.form.button">Save</button>
              </form>
          </div>
      </div>
  </div>
</template>
