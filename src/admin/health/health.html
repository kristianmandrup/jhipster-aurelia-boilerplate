<template>
  <div>
      <h2 t="health.title">Health Checks</h2>

      <p>
          <button type="button" class="btn btn-primary" click.delegate="refresh()"><span class="glyphicon glyphicon-refresh"></span>&nbsp;<span t="health.refresh.button">Refresh</span>
          </button>
      </p>

      <table id="healthCheck" class="table table-striped">
          <thead>
              <tr>
                  <th class="col-md-7" t="health.table.service">Service Name</th>
                  <th class="col-md-2 text-center" t="health.table.status">Status</th>
                  <th class="col-md-2 text-center" t="health.details.details">Details</th>
              </tr>
          </thead>
          <tbody>
              <tr ng-repeat="health in healthData">
                  <td>${'health.indicator.' + baseName(health.name) | translate} ${subSystemName(health.name)}</td>
                  <td class="text-center">
                      <span class="label ${getLabelClass(health.status)}">
                          ${'health.status.' + health.status | translate}
                      </span>
                  </td>
                  <td class="text-center">
                      <a class="hand" click.delegate="showHealth(health)" show.bind="health.details || health.error">
                          <i class="glyphicon glyphicon-eye-open"></i>
                      </a>
                  </td>
              </tr>
          </tbody>
      </table>
  </div>
</template>
